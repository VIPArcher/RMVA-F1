<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html lang=zh><head><title>RPG::BGM</title>
<meta content="text/html; charset=GBK" http-equiv=Content-Type>
<meta content=text/css http-equiv=Content-Style-Type><link rel=stylesheet 
type=text/css href="../style.css">
<meta name=GENERATOR content="MSHTML 9.00.8112.16447"></head>
<body>
<h1>RPG::BGM</h1>
<p>背景音乐的数据类。此类有一个利用 <a href="gm_audio.html">Audio</a> 模块播放自身的方法。</p>
<h2>超类</h2>
<ul>
  <li><a href="gc_rpg_audiofile.html">RPG::AudioFile</a> </li></ul>
<h2>调用者</h2>
<ul>
  <li><a href="gc_rpg_map.html">RPG::Map</a> 
  <li><a href="gc_rpg_system.html">RPG::System</a> 
  <li><a href="gc_rpg_system_vehicle.html">RPG::System::Vehicle</a> 
  <li><a href="gc_rpg_eventcommand.html">RPG::EventCommand</a> </li></ul>
<h2>类方法</h2>
<dl>
  <dt>RPG::BGM.last 
  <dd>
  <p>返回正在播放背景音乐（RPG::BGM）。若是没有播放背景音乐，则返回 nil。</p>
  <p>还可以存储当前播放的背景音乐播放到的位置。 <span class=rgss3>(RGSS3)</span></p>
  <dt>RPG::BGM.stop 
  <dd>
  <p>停止播放背景音乐。</p>
  <dt>RPG::BGM.fade(<var>time</var>) 
  <dd>
  <p>开始淡出背景音乐。<var>time</var> 是以毫秒计算的淡出时间长度。</p></dd></dl>
<h2>Methods</h2>
<dl>
  <dt>play([<var>pos</var>]) <span class=rgss3>(RGSS3)</span> 
  <dd>
  <p>开始播放背景音乐。</p>
  <p>如果音乐文件是 ogg 或 wav 格式，可以用 pos 参数指定播放的开始时间点。 <span 
  class=rgss3>(RGSS3)</span></p>
  <dt>replay <span class=rgss3>(RGSS3)</span> 
  <dd>
  <p>重放 RPG::BGM.last 所存储的背景音乐。</p></dd></dl>
<h2>定义</h2><pre>class RPG::BGM &lt; RPG::AudioFile
  @@last = RPG::BGM.new
  def play(pos = 0)
    if @name.empty?
      Audio.bgm_stop
      @@last = RPG::BGM.new
    else
      Audio.bgm_play('Audio/BGM/' + @name, @volume, @pitch, pos)
      @@last = self.clone
    end
  end
  def replay
    play(@pos)
  end
  def self.stop
    Audio.bgm_stop
    @@last = RPG::BGM.new
  end
  def self.fade(time)
    Audio.bgm_fade(time)
    @@last = RPG::BGM.new
  end
  def self.last
    @@last.pos = Audio.bgm_pos
    @@last
  end
  attr_accessor :pos
end
</pre>
<h6></h6></body></html>
